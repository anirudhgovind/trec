---
title: "example"
author: "Ohishi, M."
date: "2021/12/9"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Installation

You can install the development version of trec like so:
```{r eval=FALSE}
# install.packages("devtools")
devtools::install_github("ohishim/trec")
```

## example

trec package reading:

```{r warning=FALSE, message=FALSE, results="hide"}
library(trec)
```

This package has the following example dataset.

```{r}
head(exData)
```

The dataset has 9 variables with 20 time steps.
The first step of TREC is executed as follows:

```{r}
res1 <- TREC1(exData)
```

You can see estimated trends for standardized observations as follows:

```{r}
plot(res1$fig.ctrend)
```

The following figure helps to execute the next step.

```{r}
plot(res1$fig.trend)
```

To execute the second step, select two representative trends.

```{r}
pnum <- c(2, 7)
```

The second step of TREC is executed as follows:

```{r}
TREC2(pnum, res1$argTREC)
```

For the last step, select groups and target trends.

```{r}

#groups
trn <- list(
  c(1, 2, 3, 4, 6, 9),
  c(),
  c(5, 7, 8)
)

#target trends
tnum <- c(4, 1, 2, 8)
```

The last step is executed as follows:

```{r}
res3 <- TREC3(trn, tnum, res1$argTREC)
```

The above figure shows the target trends and their assigned icons.
